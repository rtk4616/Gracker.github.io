<!DOCTYPE html>
<html>
<head>
  <meta name="google-site-verification" content="tgaIB70XzZ5Ys1pLv8kQ2bOD5mieUyYsF-rIgZoeICM" />
  <meta charset="utf-8">
  
  <title>Android内存优化之二：MAT使用进阶 | Performance</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="前言第一篇文章《Android内存优化之一：MAT使用入门》介绍了MAT的基本使用方法，包括下载、安装、打开HPROF文件，和一些基本的视图。这篇文章介绍一下一些最新的工具使用方法，和第一篇中没有提到的一些其他的用法。
Java的内存泄露的特点
Java中的内存泄露主要特征：可达，无用
无用指的是创建了但是不再使用之后没有释放
能重用但是却创建了新的对象进行处理

MAT使用技巧进阶使用Andro">
<meta property="og:type" content="article">
<meta property="og:title" content="Android内存优化之二：MAT使用进阶">
<meta property="og:url" content="http://androidperformance.com/2015/04/11/AndroidMemory-Usage-Of-MAT-Pro.html">
<meta property="og:site_name" content="Performance">
<meta property="og:description" content="前言第一篇文章《Android内存优化之一：MAT使用入门》介绍了MAT的基本使用方法，包括下载、安装、打开HPROF文件，和一些基本的视图。这篇文章介绍一下一些最新的工具使用方法，和第一篇中没有提到的一些其他的用法。
Java的内存泄露的特点
Java中的内存泄露主要特征：可达，无用
无用指的是创建了但是不再使用之后没有释放
能重用但是却创建了新的对象进行处理

MAT使用技巧进阶使用Andro">
<meta property="og:image" content="http://androidperformance.com/images/MAT_Pro/MAT_1.png">
<meta property="og:image" content="http://androidperformance.com/images/MAT_Pro/MAT_2.png">
<meta property="og:image" content="http://androidperformance.com/images/MAT_Pro/MAT_3.png">
<meta property="og:image" content="http://androidperformance.com/images/MAT_Pro/MAT_4.png">
<meta property="og:image" content="http://androidperformance.com/images/MAT_Pro/MAT_5.png">
<meta property="og:image" content="http://androidperformance.com/images/MAT_Pro/MAT_6.png">
<meta property="og:image" content="http://androidperformance.com/images/MAT_Pro/MAT_7.png">
<meta property="og:image" content="http://androidperformance.com/images/MAT_Pro/MAT_8.png">
<meta property="og:image" content="http://androidperformance.com/images/MAT_Pro/MAT_9.png">
<meta property="og:image" content="http://androidperformance.com/images/MAT_Pro/MAT_10.png">
<meta property="og:image" content="http://androidperformance.com/images/MAT_Pro/MAT_11.png">
<meta property="og:image" content="http://androidperformance.com/images/MAT_Pro/MAT_12.png">
<meta property="og:image" content="http://androidperformance.com/images/MAT_Pro/MAT_13.png">
<meta property="og:image" content="http://androidperformance.com/images/MAT_Pro/MAT_14.png">
<meta property="og:image" content="http://androidperformance.com/images/MAT_Pro/MAT_15.png">
<meta property="og:image" content="http://androidperformance.com/images/MAT_Pro/MAT_16.png">
<meta property="og:image" content="http://androidperformance.com/images/MAT_Pro/MAT_17.png">
<meta property="og:updated_time" content="2016-04-06T06:44:45.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Android内存优化之二：MAT使用进阶">
<meta name="twitter:description" content="前言第一篇文章《Android内存优化之一：MAT使用入门》介绍了MAT的基本使用方法，包括下载、安装、打开HPROF文件，和一些基本的视图。这篇文章介绍一下一些最新的工具使用方法，和第一篇中没有提到的一些其他的用法。
Java的内存泄露的特点
Java中的内存泄露主要特征：可达，无用
无用指的是创建了但是不再使用之后没有释放
能重用但是却创建了新的对象进行处理

MAT使用技巧进阶使用Andro">
<meta name="twitter:image" content="http://androidperformance.com/images/MAT_Pro/MAT_1.png">
  
    <link rel="alternative" href="/atom.xml" title="Performance" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link rel="stylesheet" href="/css/style.css">
  <link rel="stylesheet" href="/font-awesome/css/font-awesome.min.css">
  <link rel="apple-touch-icon" href="/apple-touch-icon.png">
</head>
<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			
			<img lazy-src="/img/favicon.png" class="js-avatar">
			
		</a>

		<hgroup>
		  <h1 class="header-author"><a href="/">Gracker</a></h1>
		</hgroup>

		
		<p class="header-subtitle">True mastery of any skill takes a lifetime</p>
		
				


		
			<div id="switch-btn" class="switch-btn">
				<div class="icon">
					<div class="icon-ctn">
						<div class="icon-wrap icon-house" data-idx="0">
							<div class="birdhouse"></div>
							<div class="birdhouse_holes"></div>
						</div>
						<div class="icon-wrap icon-ribbon hide" data-idx="1">
							<div class="ribbon"></div>
						</div>
						
						<div class="icon-wrap icon-link hide" data-idx="2">
							<div class="loopback_l"></div>
							<div class="loopback_r"></div>
						</div>
						
						
					</div>
					
				</div>
				<div class="tips-box hide">
					<div class="tips-arrow"></div>
					<ul class="tips-inner">
						<li>菜单</li>
						<li>标签</li>
						
						<li>友情链接</li>
						
						
					</ul>
				</div>
			</div>
		

		<div id="switch-area" class="switch-area">
			<div class="switch-wrap">
				<section class="switch-part switch-part1">
					<nav class="header-menu">
						<ul>
						
							<li><a href="/">主页</a></li>
				        
							<li><a href="/archives">所有文章</a></li>
				        
							<li><a href="/tags/随笔">随笔</a></li>
				        
							<li><a href="/tags">标签云</a></li>
				        
							<li><a href="/about">关于我</a></li>
				        
						</ul>
					</nav>
					<nav class="header-nav">
						<ul class="social">
							
								<li id="新浪微博"><a class="新浪微博" target="_blank" href="http://weibo.com/gracker520" title="新浪微博"></a></li>
					        
								<li id="GitHub"><a class="GitHub" target="_blank" href="https://github.com/Gracker" title="GitHub"></a></li>
					        
								<li id="简书"><a class="简书" target="_blank" href="http://www.jianshu.com/users/FK4sc4/latest_articles" title="简书"></a></li>
					        
								<li id="知乎"><a class="知乎" target="_blank" href="http://www.zhihu.com/people/gracker" title="知乎"></a></li>
					        
								<li id="RSS"><a class="RSS" target="_blank" href="/atom.xml" title="RSS"></a></li>
					        
						</ul>
					</nav>
				</section>
				
				
				<section class="switch-part switch-part2">
					<div class="widget tagcloud" id="js-tagcloud">
						<a href="/tags/Android/" style="font-size: 20px;">Android</a> <a href="/tags/DelayLoad/" style="font-size: 12px;">DelayLoad</a> <a href="/tags/HashMap/" style="font-size: 10px;">HashMap</a> <a href="/tags/Java/" style="font-size: 12px;">Java</a> <a href="/tags/MAT/" style="font-size: 16px;">MAT</a> <a href="/tags/Menory/" style="font-size: 18px;">Menory</a> <a href="/tags/Nexus/" style="font-size: 10px;">Nexus</a> <a href="/tags/Performance/" style="font-size: 16px;">Performance</a> <a href="/tags/RenderThread/" style="font-size: 10px;">RenderThread</a> <a href="/tags/Singleton/" style="font-size: 10px;">Singleton</a> <a href="/tags/hwui/" style="font-size: 10px;">hwui</a> <a href="/tags/启动优化/" style="font-size: 14px;">启动优化</a> <a href="/tags/设计规范/" style="font-size: 12px;">设计规范</a>
					</div>
				</section>
				
				
				
				<section class="switch-part switch-part3">
					<div id="js-friends">
					
			          <a target="_blank" class="main-nav-link switch-friends-link" href="https://hexo.io">Hexo</a>
			        
			          <a target="_blank" class="main-nav-link switch-friends-link" href="https://pages.github.com/">GitHub</a>
			        
			          <a target="_blank" class="main-nav-link switch-friends-link" href="http://moxfive.xyz/">MOxFIVE</a>
			        
			        </div>
				</section>
				

				
			</div>
		</div>
	</header>				
</div>
    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
  	<div class="overlay">
  		<div class="slider-trigger"></div>
  		<h1 class="header-author js-mobile-header hide"><a href="/" title="回到主页">Gracker</a></h1>
  	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<a href="/" class="profilepic">
				<img lazy-src="/img/favicon.png" class="js-avatar">
			</a>
			<hgroup>
			  <h1 class="header-author"><a href="/" title="回到主页">Gracker</a></h1>
			</hgroup>
			
			<p class="header-subtitle">True mastery of any skill takes a lifetime</p>
			
			<nav class="header-menu">
				<ul>
				
					<li><a href="/">主页</a></li>
		        
					<li><a href="/archives">所有文章</a></li>
		        
					<li><a href="/tags/随笔">随笔</a></li>
		        
					<li><a href="/tags">标签云</a></li>
		        
					<li><a href="/about">关于我</a></li>
		        
		        <div class="clearfix"></div>
				</ul>
			</nav>
			<nav class="header-nav">
						<ul class="social">
							
								<li id="新浪微博"><a class="新浪微博" target="_blank" href="http://weibo.com/gracker520" title="新浪微博"></a></li>
					        
								<li id="GitHub"><a class="GitHub" target="_blank" href="https://github.com/Gracker" title="GitHub"></a></li>
					        
								<li id="简书"><a class="简书" target="_blank" href="http://www.jianshu.com/users/FK4sc4/latest_articles" title="简书"></a></li>
					        
								<li id="知乎"><a class="知乎" target="_blank" href="http://www.zhihu.com/people/gracker" title="知乎"></a></li>
					        
								<li id="RSS"><a class="RSS" target="_blank" href="/atom.xml" title="RSS"></a></li>
					        
						</ul>
			</nav>
		</header>				
	</div>
</nav>
      <div class="body-wrap"><article id="post-AndroidMemory-Usage-Of-MAT-Pro" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/04/11/AndroidMemory-Usage-Of-MAT-Pro.html" class="article-date">
  	<time datetime="2015-04-11T10:26:36.000Z" itemprop="datePublished">2015-04-11</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Android内存优化之二：MAT使用进阶
    </h1>
  

      </header>
      
      <div class="article-info article-info-post">
        
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/Android/">Android</a><a class="article-category-link" href="/categories/Android/Menory/">Menory</a>
	</div>


        
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Android/">Android</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/MAT/">MAT</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Menory/">Menory</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Performance/">Performance</a></li></ul>
	</div>

        <div class="clearfix"></div>
      </div>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>第一篇文章<a href="http://androidperformance.com/2015/04/11/AndroidMemory-Usage-Of-MAT/">《Android内存优化之一：MAT使用入门》</a>介绍了MAT的基本使用方法，包括下载、安装、打开HPROF文件，和一些基本的视图。这篇文章介绍一下一些最新的工具使用方法，和第一篇中没有提到的一些其他的用法。</p>
<h2 id="Java的内存泄露的特点"><a href="#Java的内存泄露的特点" class="headerlink" title="Java的内存泄露的特点"></a>Java的内存泄露的特点</h2><ul>
<li>Java中的内存泄露主要特征：可达，无用</li>
<li>无用指的是创建了但是不再使用之后没有释放</li>
<li>能重用但是却创建了新的对象进行处理</li>
</ul>
<h2 id="MAT使用技巧进阶"><a href="#MAT使用技巧进阶" class="headerlink" title="MAT使用技巧进阶"></a>MAT使用技巧进阶</h2><h3 id="使用Android-Studio-Dump内存文件"><a href="#使用Android-Studio-Dump内存文件" class="headerlink" title="使用Android Studio Dump内存文件"></a>使用Android Studio Dump内存文件</h3><p>Android Studio的最新版本可以直接获取hprof文件：</p>
<p><img src="/images/MAT_Pro/MAT_1.png" alt="Android-Studio"></p>
<a id="more"></a>
<p>然后选择文件，点击右键转换成标准的hprof文件，就可以在MAT中打开了。</p>
<blockquote>
<p>在使用使用Eclipse或者AndroidStudio抓内存之前，一定要手动点击 Initiate GC按钮手动触发GC，这样抓到的内存使用情况就是不包括Unreachable对象的。</p>
<p><img src="/images/MAT_Pro/MAT_2.png" alt="手动触发GC"></p>
</blockquote>
<h3 id="Unreachable对象"><a href="#Unreachable对象" class="headerlink" title="Unreachable对象"></a>Unreachable对象</h3><p>Unreachable指的是可以被垃圾回收器回收的对象，但是由于没有GC发生，所以没有释放，这时抓的内存使用中的Unreachable就是这些对象。</p>
<p><img src="/images/MAT_Pro/MAT_3.png" alt="Unreachable Objects"></p>
<p><img src="/images/MAT_Pro/MAT_4.png" alt="Unreachable Objects Histogram"></p>
<p>点击Calculate Retained Size之后，会出现Retained Size这一列</p>
<p><img src="/images/MAT_Pro/MAT_5.png" alt="Calculate Retained Size"></p>
<p><img src="/images/MAT_Pro/MAT_6.png" alt="Unreachable Objects Histogram"></p>
<p>可以看到Unreachable Object的对象其Retained Heap值都为0.这也是正常的。</p>
<h3 id="Histogram"><a href="#Histogram" class="headerlink" title="Histogram"></a>Histogram</h3><p>MAT中Histogram的主要作用是查看一个instance的数量，一般用来查看自己创建的类的实例的个数。</p>
<ul>
<li>可以很容易的找出占用内存最多的几个对象，根据Percentage（百分比）来排序。</li>
<li>可以分不同维度来查看对象的Dominator Tree视图，Group by class、Group by class  loader、Group by package<br>和Histogram类似，时间久了，通过多次对比也可以把溢出对象找出来。</li>
<li>Dominator Tree和Histogram的区别是站的角度不一样，Histogram是站在类的角度上去看，Dominator Tree是站的对象实例的角度上看，Dominator Tree可以更方便的看出其引用关系。</li>
</ul>
<p><img src="/images/MAT_Pro/MAT_7.png" alt="Histogram group by package"></p>
<p>通过查看Object的个数，结合代码就可以找出存在内存泄露的类（<strong>即可达但是无用的对象，或者是可以重用但是重新创建的对象</strong>）</p>
<p>Histogram中还可以对对象进行Group，更方便查看自己Package中的对象信息。</p>
<p><img src="/images/MAT_Pro/MAT_8.png" alt="Paste_Image.png"></p>
<h3 id="Thread信息"><a href="#Thread信息" class="headerlink" title="Thread信息"></a>Thread信息</h3><p>MAT中可以查看当前的Thread信息：</p>
<p><img src="/images/MAT_Pro/MAT_9.png" alt="Thread"></p>
<p>从图中可以得到的信息：</p>
<ol>
<li><p>可以看到可能有内存问题的Thread：</p>
<p><img src="/images/MAT_Pro/MAT_10.png" alt="内存异常"></p>
</li>
<li><p>可以看到数量可能有问题的Thread</p>
<p><img src="/images/MAT_Pro/MAT_11.png" alt="数量异常"></p>
</li>
</ol>
<h3 id="帮助信息"><a href="#帮助信息" class="headerlink" title="帮助信息"></a>帮助信息</h3><p>MAT中的各个视图中，在每一个Item中点击右键会出现很多选项，很多时候我们需要依赖这些选项来进行分析：</p>
<p><img src="/images/MAT_Pro/MAT_12.png" alt="右键选项"></p>
<p>这些选项的具体含义则可以通过右键中的Search Queries这个选项(上图中的倒数第四个选项)进行搜索和查看，非常的有用。</p>
<p><img src="/images/MAT_Pro/MAT_13.png" alt="帮助信息"></p>
<p>可以看到，所有的命令其实就是配置不同的SQL查询语句。</p>
<p>比如我们最常用的：</p>
<ul>
<li><strong>List objects -&gt; with incoming references</strong>：查看这个对象持有的外部对象引用</li>
<li><strong>List objects -&gt; with outcoming references</strong>：查看这个对象被哪些外部对象引用</li>
<li><strong>Path To GC Roots -&gt; exclude all phantim/weak/soft etc. references</strong>：查看这个对象的GC Root，不包含虚、弱引用、软引用，剩下的就是强引用。从GC上说，除了强引用外，其他的引用在JVM需要的情况下是都可以 被GC掉的，如果一个对象始终无法被GC，就是因为强引用的存在，从而导致在GC的过程中一直得不到回收，因此就内存溢出了。</li>
<li><strong>Path To GC Roots  -&gt; exclude weak/soft references</strong>：查看这个对象的GC Root，不含弱引用和软引用所有的引用.</li>
<li><strong>Merge Shortest path to GC root </strong>：找到从GC根节点到一个对象或一组对象的共同路径</li>
</ul>
<h3 id="Debug-Bitmap"><a href="#Debug-Bitmap" class="headerlink" title="Debug Bitmap"></a>Debug Bitmap</h3><p>如果经常使用MAT分析内存，就会发现Bitmap所占用的内存是非常大的，这个和其实际显示面积是有关系的。在2K屏幕上，一张Bitmap能达到20MB的大小。</p>
<p>所以要是MAT提供了一种方法，可以将存储Bitmap的byte数组导出来，使用第三方工具打开。这个大大提高了我们分析内存泄露的效率。</p>
<p>关于这个方法的操作流程，可以参考这篇文章<a href="http://www.androidperformance.com/2015/04/11/AndroidMemory-Open-Bitmap-Object-In-MAT.html" target="_blank" rel="external">还原MAT中的Bitmap图像</a>.<br>I</p>
<h3 id="Debug-ArrayList"><a href="#Debug-ArrayList" class="headerlink" title="Debug ArrayList"></a>Debug ArrayList</h3><p>ArrayList是使用非常常用的一个数据结构，在MAT中，如果想知道ArrayList中有哪些数据，需要右键-&gt; List Objects -&gt; With outgoing references,然后可以看到下面的图：</p>
<p><img src="/images/MAT_Pro/MAT_14.png" alt="Outgoing"></p>
<p>从上图可以看到，这个ArrayList的内容在一个array数组中，即暴漏了ArrayList的内部结构，查看的时候有点不方便，所以MAT提供了另外一种查看ArrayList内数据的方式：</p>
<p><img src="/images/MAT_Pro/MAT_15.png" alt="Extrace List Values"></p>
<p>其结果非常直观：</p>
<p><img src="/images/MAT_Pro/MAT_16.png" alt="Extrace List Values Result"></p>
<h3 id="Big-Drops-In-Dominator-Tree"><a href="#Big-Drops-In-Dominator-Tree" class="headerlink" title="Big Drops In Dominator Tree"></a>Big Drops In Dominator Tree</h3><p>Big Drops In Dominator Tree选项在右键-&gt;</p>
<blockquote>
<p>Displays memory accumulation points in the dominator tree. Displayed are objects with a big difference between the retained size of the parent and the children and the first “interesting” dominator of the accumulation point. These are places where the memory of many small objects is accumulated under one object.</p>
</blockquote>
<p><img src="/images/MAT_Pro/MAT_17.png" alt="Big Drops In Dominator Tree"></p>

        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- Gracker -->
<ins class="adsbygoogle"
style="display:block"
data-ad-client="ca-pub-1951577487702931"
data-ad-slot="8203642608"
data-ad-format="auto"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
      
      
    </div>
    
  </div>
  
    
<div class="copyright">
  <p><span>本文标题:</span><a href="/2015/04/11/AndroidMemory-Usage-Of-MAT-Pro.html">Android内存优化之二：MAT使用进阶</a></p>
  <p><span>文章作者:</span><a href="/" title="访问 Gracker 的个人博客">Gracker</a></p>
  <p><span>发布时间:</span>2015年04月11日 - 18时26分</p>
  <p><span>最后更新:</span>2016年04月06日 - 14时44分</p>
  <p>
    <span>原始链接:</span><a href="/2015/04/11/AndroidMemory-Usage-Of-MAT-Pro.html" title="Android内存优化之二：MAT使用进阶">http://androidperformance.com/2015/04/11/AndroidMemory-Usage-Of-MAT-Pro.html</a>
    <span class="btn" data-clipboard-text="原文: http://androidperformance.com/2015/04/11/AndroidMemory-Usage-Of-MAT-Pro.html　　作者: Gracker" title="点击复制文章链接">
        <i class="fa fa-clipboard"></i>
    </span>
  </p>
  <p><span>许可协议:</span><i class="fa fa-creative-commons"></i> <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/cn/" title="中国大陆 (CC BY-NC-SA 3.0 CN)">"署名-非商用-相同方式共享 3.0"</a> 转载请保留原文链接及作者。</p>
  <script src="/js/clipboard.min.js"></script>
  <script> var clipboard = new Clipboard('.btn'); </script>
</div>
<style type="text/css">
  .copyright p .btn {
    margin-left: 1em;
  }
  .copyright:hover p .btn::after {
    content: "复制"
  }
  .copyright p .btn:hover {
      color: gray;
      cursor: pointer;
    };
</style>



<nav id="article-nav">
  
    <div id="article-nav-newer" class="article-nav-title">
      <a href="/2015/04/11/AndroidMemory-Open-Bitmap-Object-In-MAT.html">
        Android内存优化之三：打开MAT中的Bitmap原图
      </a>
    </div>
  
  
    <div id="article-nav-older" class="article-nav-title">
      <a href="/2015/04/11/AndroidMemory-Usage-Of-MAT.html">
        Android内存优化之一：MAT使用入门
      </a>
    </div>
  
</nav>

  
</article>

<!-- 默认显示文章目录，在文章---前输入toc: false关闭目录 -->
<!-- Show TOC and tocButton in default, Hide TOC via putting "toc: false" before "---" at [post].md -->
<div id="toc" class="toc-article">
<strong class="toc-title">文章目录</strong>
<ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#前言"><span class="toc-number">1.</span> <span class="toc-text">前言</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Java的内存泄露的特点"><span class="toc-number">2.</span> <span class="toc-text">Java的内存泄露的特点</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#MAT使用技巧进阶"><span class="toc-number">3.</span> <span class="toc-text">MAT使用技巧进阶</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#使用Android-Studio-Dump内存文件"><span class="toc-number">3.1.</span> <span class="toc-text">使用Android Studio Dump内存文件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Unreachable对象"><span class="toc-number">3.2.</span> <span class="toc-text">Unreachable对象</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Histogram"><span class="toc-number">3.3.</span> <span class="toc-text">Histogram</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Thread信息"><span class="toc-number">3.4.</span> <span class="toc-text">Thread信息</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#帮助信息"><span class="toc-number">3.5.</span> <span class="toc-text">帮助信息</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Debug-Bitmap"><span class="toc-number">3.6.</span> <span class="toc-text">Debug Bitmap</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Debug-ArrayList"><span class="toc-number">3.7.</span> <span class="toc-text">Debug ArrayList</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Big-Drops-In-Dominator-Tree"><span class="toc-number">3.8.</span> <span class="toc-text">Big Drops In Dominator Tree</span></a></li></ol></li></ol>
</div>
<style type="text/css">
  .left-col .switch-btn {
    display: none;
  }
  .left-col .switch-area {
    display: none;
  }
</style>

<input type="button" id="tocButton" value="隐藏目录"  title="点击按钮隐藏或者显示文章目录">
<script type="text/javascript">
  var toc_button= document.getElementById("tocButton");
  var toc_div= document.getElementById("toc");
  /* Show or hide toc when click on tocButton.
  通过点击设置的按钮显示或者隐藏文章目录.*/
  toc_button.onclick=function(){
  if(toc_div.style.display=="none"){
  toc_div.style.display="block";
  toc_button.value="隐藏目录";
  document.getElementById("switch-btn").style.display="none";
  document.getElementById("switch-area").style.display="none";
  }
  else{
  toc_div.style.display="none";
  toc_button.value="显示目录";
  document.getElementById("switch-btn").style.display="block";
  document.getElementById("switch-area").style.display="block";
  }
  }
</script>


<div class="share">
	<div class="bdsharebuttonbox">
	<a href="#" class="bds_more" data-cmd="more"></a>
	<a href="#" class="bds_tsina" data-cmd="tsina" title="分享到新浪微博"></a>
	<a href="#" class="bds_sqq" data-cmd="sqq" title="分享给 QQ 好友"></a>
	<a href="#" class="bds_copy" data-cmd="copy" title="复制网址"></a>
	<a href="#" class="bds_mail" data-cmd="mail" title="通过邮件分享"></a>
	<a href="#" class="bds_weixin" data-cmd="weixin" title="生成文章二维码"></a>
	</div>
	<script>
	window._bd_share_config={
		"common":{"bdSnsKey":{},"bdText":"","bdMini":"2","bdMiniList":false,"bdPic":"","bdStyle":"0","bdSize":"24"},"share":{}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];
	</script>
</div>



<div class="duoshuo">
	<!-- 多说评论框 start -->
	<div class="ds-thread" data-thread-key="2015/04/11/AndroidMemory-Usage-Of-MAT-Pro.html" data-title="Android内存优化之二：MAT使用进阶" data-url="http://androidperformance.com/2015/04/11/AndroidMemory-Usage-Of-MAT-Pro.html"></div>
	<!-- 多说评论框 end -->
	<!-- 多说公共JS代码 start (一个网页只需插入一次) -->
	<script type="text/javascript">
	var duoshuoQuery = {short_name:"grackertalk"};
	(function() {
		var ds = document.createElement('script');
		ds.type = 'text/javascript';ds.async = true;
		ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
		ds.charset = 'UTF-8';
		(document.getElementsByTagName('head')[0] 
		 || document.getElementsByTagName('body')[0]).appendChild(ds);
	})();
	</script>
	<!-- 多说公共JS代码 end -->
</div>






    <style type="text/css">
    #scroll {
      display: none;
    }
    </style>
    <div class="scroll">
    <a href="#" title="返回顶部"><i class="fa fa-arrow-up"></i></a>
    <a href="#ds-thread" title="查看评论"><i class="fa fa-comments-o"></i></a>
    <a href="#footer" title="转到底部"><i class="fa fa-arrow-down"></i></a>
    </div>


  
  
    
    <div  class="post-nav-button">
    <a href="/2015/04/11/AndroidMemory-Open-Bitmap-Object-In-MAT.html" title="上一篇: Android内存优化之三：打开MAT中的Bitmap原图">
    <i class="fa fa-angle-left"></i>
    </a>
    <a href="/2015/04/11/AndroidMemory-Usage-Of-MAT.html" title="下一篇: Android内存优化之一：MAT使用入门">
    <i class="fa fa-angle-right"></i>
    </a>
    </div>
  



    
        <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
        <script>
        var yiliaConfig = {
        fancybox: true,
        mathjax: true,
        animate: true,
        isHome: false,
        isPost: true,
        isArchive: false,
        isTag: false,
        isCategory: false,
        open_in_new: false
        }
        </script>
        
</div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
      <div class="footer-left">
        &copy; 2016 Gracker
      </div>
        <div class="footer-right">
          <a href="http://hexo.io/" target="_blank" title="快速、简洁且高效的静态博客框架">Hexo</a>  Theme <a href="https://github.com/MOxFIVE/hexo-theme-yelee" target="_blank" title="简而不减双栏 Hexo 博客主题">Yelee</a> by MOxFIVE
        </div>
    </div>
    <div class="visit">
      <span id="busuanzi_container_site_pv" style='display:none'>
        <span id="site-visit" >本站到访数: 
        <span id="busuanzi_value_site_uv"></span>
        </span>
      </span>
      <span id="busuanzi_container_page_pv" style='display:none'>
        <span id="page-visit">, 本页阅读量: 
        <span id="busuanzi_value_page_pv"></span>
        </span>
      </span>
      <script>
        (function(){
            var bp = document.createElement('script');
            bp.src = '//push.zhanzhang.baidu.com/push.js';
            var s = document.getElementsByTagName("script")[0];
            s.parentNode.insertBefore(bp, s);
        })();
      </script>           
    </div>
  </div>
</footer>
    </div>
    

<script src="http://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js"></script>
<script src="/js/main.js"></script>

  <style>
    body {
      background: lightgray;
    }
    #container .left-col {
      background: white;
    }
    .article-inner {
      background: white;
    }
    .post-nav-button {
      background: #ececec;
    }
    #header .header-nav .social #GitHub {
      background-color: #bfd3ec;
    }
  </style>


<!-- Google Analytics -->
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-50993302-2', 'auto');
ga('send', 'pageview');

</script>
<!-- End Google Analytics -->



<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    }
});

MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';                 
    }       
});
</script>

<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>


<div class="scroll" id="scroll">
<a href="#" title="返回顶部"><i class="fa fa-arrow-up"></i></a>
<a href="#footer" title="转到底部"><i class="fa fa-arrow-down"></i></a>
</div>

<script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
</script>
  </div>
</body>
</html>